"use strict";(self["webpackChunkweek6_test01"]=self["webpackChunkweek6_test01"]||[]).push([[621],{621:function(a,t,n){n.r(t),n.d(t,{default:function(){return x}});var s=n(252);function e(a,t,n,e,o,i){const r=(0,s.up)("dashboard-navbar"),l=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(r,{onSignoutClick:i.signout},null,8,["onSignoutClick"]),o.situation?((0,s.wg)(),(0,s.j4)(l,{key:0})):(0,s.kq)("",!0)],64)}const o={class:"navbar navbar-expand-lg navbar-dark bg-dark"},i={class:"container-fluid"},r=(0,s.Uk)("後台"),l=(0,s._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,s._)("span",{class:"navbar-toggler-icon"})],-1),c={class:"collapse navbar-collapse",id:"navbarNav"},u={class:"navbar-nav"},d={class:"nav-item"},v=(0,s.Uk)("產品列表"),h={class:"nav-item"},k=(0,s.Uk)("訂單"),g={class:"nav-item"};function b(a,t,n,e,b,p){const m=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("nav",o,[(0,s._)("div",i,[(0,s.Wm)(m,{class:"navbar-brand",to:"/admin"},{default:(0,s.w5)((()=>[r])),_:1}),l,(0,s._)("div",c,[(0,s._)("ul",u,[(0,s._)("li",d,[(0,s.Wm)(m,{to:"/admin/products",class:"nav-link"},{default:(0,s.w5)((()=>[v])),_:1})]),(0,s._)("li",h,[(0,s.Wm)(m,{to:"/admin/orders",class:"nav-link"},{default:(0,s.w5)((()=>[k])),_:1})]),(0,s._)("li",g,[(0,s._)("button",{class:"nav-link btn",onClick:t[0]||(t[0]=(...a)=>p.signout&&p.signout(...a))},"登出")])])])])])}var p={methods:{signout(){this.$emit("signout-click")}}},m=n(744);const _=(0,m.Z)(p,[["render",b]]);var f=_,w={components:{dashboardNavbar:f},data(){return{situation:!1}},mounted(){this.check()},methods:{check(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");a?(this.$http.defaults.headers.common.Authorization=a,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/user/check",{token:a}).then((a=>{console.log(a),this.situation=!0})).catch((a=>{console.dir(a),alert(a.data.message),this.$router.push("/signin")}))):(alert("您尚未登入"),this.$router.push("/signin"))},signout(){document.cookie="hexToken=; expires=;",this.$router.push("/signin")}}};const $=(0,m.Z)(w,[["render",e]]);var x=$}}]);
//# sourceMappingURL=621.5ebc0da5.js.map